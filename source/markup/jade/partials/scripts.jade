script(src='js/jquery.visible.min.js' type='text/javascript')
script(src='js/circle-progress.min.js' type='text/javascript')

script.
  $(function () {
    // smooth scroll on anchors
    $(document).on('click', '.link-smooth', function (event) {
      var link;
      if($(this).data('href')){ link = $(this).data('href')} else {link = $(this).attr('href')}
      event.preventDefault();
      $('html, body').animate({
        scrollTop: $(link).offset().top + 10
      }, 1500);
    });

    //popup link
    $(".popup-layout").click(function () {
      hidePopup();
    });
    $(".popup, .popup-link").click(function (e) {
      e.stopPropagation();
    });

    $('.popup__close').click(function () {
      hidePopup();
    });
  });

  function showPopup(popupId) {
    $(popupId).fadeIn(400);
  }
  function hidePopup() {
    $('.popup-layout').fadeOut(400);
    $('.popup-video').find('iframe').remove();
  }

  function showVideoPopup(videoId) {
    showPopup('#popup-video');
    $('.popup-video .popup-video__video').html('').append('<iframe width="100%" height="100%" src="https://www.youtube.com/embed/' + videoId + '?rel=0&amp&autoplay=1;controls=0&amp;showinfo=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>');
  }


script.
  $(function(){
    checkItemVisibility('.blog-item', 'blog-item--fade-in');
    checkItemVisibility('.projects-item', 'projects-item--fade-in');
    $(window).scroll(function () {
      checkItemVisibility('.blog-item', 'blog-item--fade-in');
      checkItemVisibility('.projects-item', 'projects-item--fade-in');
    });
    function checkItemVisibility(item, itemActive){
      $(item).each(function () {
        if ($(this).visible(true)) {
          $(this).addClass(itemActive);
        }
      });
    }
  });


script.
  $(function(){
    $('#blog > .main-wrapper .grey-line').css('height', $('.main').height() - $('.single-categories').height() - 310);
    $('#single > .main-wrapper .grey-line').css('height', $('.main').height() - $('.single-categories').height() - 310);
    $('#blog .scroll').css('bottom', $('.main').height() - $('.single-categories').height() - 330);
    $('#single .scroll').css('bottom', $('.main').height() - $('.single-categories').height() - 330);
  });
